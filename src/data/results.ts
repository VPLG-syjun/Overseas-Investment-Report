import type { ReportType, ResultRule } from '../types';
import { agencies, forms } from './agencies';

// ì‹ ê³  ìœ í˜• ë°ì´í„°
export const reportTypes: Record<string, ReportType> = {
  // ========================================
  // ë£¨íŠ¸ A: ê°œì¸/ì¼ë°˜ë²•ì¸ ê²°ê³¼ë“¤
  // ========================================

  // A-1: í•´ì™¸ì§ì ‘íˆ¬ì (ì¼ë°˜ í•´ì™¸ë²•ì¸)
  'a-direct-general': {
    id: 'a-direct-general',
    name: 'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³ ',
    description:
      'ê°œì¸ ë˜ëŠ” ì¼ë°˜ ë²•ì¸ì´ ì¼ë°˜ í•´ì™¸ë²•ì¸ì— ëŒ€í•´ ì§€ë¶„ 10% ì´ìƒ ì·¨ë“í•˜ê±°ë‚˜, 10% ë¯¸ë§Œì´ë¼ë„ ì„ì› íŒŒê²¬, ê³„ì•½ ì²´ê²° ë“± ì‹¤ì§ˆì  ê²½ì˜ê¶Œì„ í–‰ì‚¬í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.',
    agency: agencies['forex-bank'],
    requiredForms: [forms['form-direct-investment']],
    requiredDocuments: [
      'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³ ì„œ (ë³„ì§€ ì„œì‹)',
      'ì‚¬ì—…ê³„íšì„œ',
      'ë‚©ì„¸ì¦ëª…ì„œ (êµ­ì„¸, ì§€ë°©ì„¸)',
      'ì‹ ìš©ì •ë³´ì¡°íšŒë™ì˜ì„œ',
      'ì£¼ë¯¼ë“±ë¡ë“±ë³¸ (ê°œì¸) ë˜ëŠ” ì‚¬ì—…ìë“±ë¡ì¦ëª… (ë²•ì¸)',
    ],
    legalBasis: 'ì™¸êµ­í™˜ê±°ë˜ê·œì • ì œ9ì¥ ì œ1ì ˆ',
    notes: [
      'ì‹ ê³  ì‹œì : ì‚¬ì „ ì‹ ê³  (ì†¡ê¸ˆ ì „ ì™„ë£Œ í•„ìˆ˜)',
      'ì‹ ê³  ìˆ˜ë¦¬ í›„ 1ë…„ ì´ë‚´ íˆ¬ìë¥¼ ì´í–‰í•´ì•¼ í•©ë‹ˆë‹¤',
    ],
  },

  // A-2: í•´ì™¸ì§ì ‘íˆ¬ì (ì—­ì™¸ê¸ˆìœµíšŒì‚¬) - ì‹¤ì œë¡œëŠ” í•´ì™¸ì¦ê¶Œì·¨ë“ìœ¼ë¡œ ì²˜ë¦¬ë¨
  'a-direct-offshore': {
    id: 'a-direct-offshore',
    name: 'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³  (ì—­ì™¸ê¸ˆìœµíšŒì‚¬)',
    description:
      'ê°œì¸ ë˜ëŠ” ì¼ë°˜ ë²•ì¸ì´ ì—­ì™¸ê¸ˆìœµíšŒì‚¬ì— ê²½ì˜ì°¸ì—¬ ëª©ì ìœ¼ë¡œ íˆ¬ìí•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ì§€ë¶„ìœ¨ê³¼ ê´€ê³„ì—†ì´ í•´ì™¸ì§ì ‘íˆ¬ì ê·œì •ì´ ì ìš©ë©ë‹ˆë‹¤.',
    agency: agencies['forex-bank'],
    requiredForms: [forms['form-direct-investment']],
    requiredDocuments: [
      'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³ ì„œ (ë³„ì§€ ì„œì‹)',
      'ì‚¬ì—…ê³„íšì„œ',
      'í€ë“œ ê°œìš”ì„œ (PPM)',
      'ë‚©ì„¸ì¦ëª…ì„œ (êµ­ì„¸, ì§€ë°©ì„¸)',
      'ì‹ ìš©ì •ë³´ì¡°íšŒë™ì˜ì„œ',
      'ì£¼ë¯¼ë“±ë¡ë“±ë³¸ (ê°œì¸) ë˜ëŠ” ì‚¬ì—…ìë“±ë¡ì¦ëª… (ë²•ì¸)',
    ],
    legalBasis: 'ì™¸êµ­í™˜ê±°ë˜ê·œì • ì œ9ì¥ ì œ1ì ˆ',
    notes: [
      'ì‹ ê³  ì‹œì : ì‚¬ì „ ì‹ ê³  (ì†¡ê¸ˆ ì „ ì™„ë£Œ í•„ìˆ˜)',
      'ì—­ì™¸ê¸ˆìœµíšŒì‚¬ íˆ¬ìëŠ” ì§€ë¶„ìœ¨ê³¼ ê´€ê³„ì—†ì´ ì§ì ‘íˆ¬ì ê·œì • ì ìš©',
    ],
  },

  // A-3: í•´ì™¸ì¦ê¶Œì·¨ë“ (ì¼ë°˜ í•´ì™¸ë²•ì¸)
  'a-securities-general': {
    id: 'a-securities-general',
    name: 'í•´ì™¸ì¦ê¶Œì·¨ë“ ì‹ ê³ ',
    description:
      'ê°œì¸ ë˜ëŠ” ì¼ë°˜ ë²•ì¸ì´ ì§€ë¶„ 10% ë¯¸ë§Œì˜ ì£¼ì‹, ì±„ê¶Œ ë“± í¬íŠ¸í´ë¦¬ì˜¤ íˆ¬ìë¥¼ í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ê²½ì˜ ì°¸ì—¬ ëª©ì ì´ ì•„ë‹Œ ë‹¨ìˆœ íˆ¬ìì…ë‹ˆë‹¤.',
    agency: agencies['forex-bank'],
    requiredForms: [forms['form-securities']],
    requiredDocuments: [
      'í•´ì™¸ì¦ê¶Œì·¨ë“ ì‹ ê³ ì„œ (ë³„ì§€ ì„œì‹)',
      'ì¦ê¶Œì·¨ë“ ì…ì¦ì„œë¥˜',
      'ë‚©ì„¸ì¦ëª…ì„œ (êµ­ì„¸, ì§€ë°©ì„¸)',
      'ì‹ ìš©ì •ë³´ì¡°íšŒë™ì˜ì„œ',
      'ì£¼ë¯¼ë“±ë¡ë“±ë³¸ (ê°œì¸) ë˜ëŠ” ì‚¬ì—…ìë“±ë¡ì¦ëª… (ë²•ì¸)',
    ],
    legalBasis: 'ì™¸êµ­í™˜ê±°ë˜ê·œì • ì œ7ì¥',
    notes: [
      'ì‹ ê³  ì‹œì : ì‚¬ì „ ì‹ ê³  (ì†¡ê¸ˆ ì „ ì™„ë£Œ í•„ìˆ˜)',
      'ì¼ë¶€ ì˜ˆì™¸ ìˆìŒ (ê¸ˆìœµíˆ¬ìì—…ì í†µí•œ ìƒì¥ì¦ê¶Œ ì·¨ë“ ë“±)',
    ],
  },

  // A-4: í•´ì™¸ì¦ê¶Œì·¨ë“ (ì—­ì™¸ê¸ˆìœµíšŒì‚¬) - í•µì‹¬ ìˆ˜ì •!
  'a-securities-offshore': {
    id: 'a-securities-offshore',
    name: 'í•´ì™¸ì¦ê¶Œì·¨ë“ ì‹ ê³  (ì—­ì™¸ê¸ˆìœµíšŒì‚¬)',
    description:
      'ê°œì¸ ë˜ëŠ” ì¼ë°˜ ë²•ì¸ì´ ì—­ì™¸ê¸ˆìœµíšŒì‚¬(í•´ì™¸ í€ë“œ ë“±)ì˜ ì§€ë¶„ì„ ì·¨ë“í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. í•´ì™¸ì¦ê¶Œì·¨ë“ìœ¼ë¡œ ì‹ ê³ í•©ë‹ˆë‹¤.',
    agency: agencies['forex-bank'],
    requiredForms: [forms['form-securities']],
    requiredDocuments: [
      'í•´ì™¸ì¦ê¶Œì·¨ë“ ì‹ ê³ ì„œ (ë³„ì§€ ì„œì‹)',
      'ì—­ì™¸ê¸ˆìœµíšŒì‚¬ íˆ¬ì ê´€ë ¨ ì„œë¥˜',
      'í€ë“œ ê°œìš”ì„œ (PPM)',
      'ë‚©ì„¸ì¦ëª…ì„œ (êµ­ì„¸, ì§€ë°©ì„¸)',
      'ì‹ ìš©ì •ë³´ì¡°íšŒë™ì˜ì„œ',
      'ì£¼ë¯¼ë“±ë¡ë“±ë³¸ (ê°œì¸) ë˜ëŠ” ì‚¬ì—…ìë“±ë¡ì¦ëª… (ë²•ì¸)',
    ],
    legalBasis: 'ì™¸êµ­í™˜ê±°ë˜ê·œì • ì œ7ì¥ ì œ4ì ˆ',
    notes: [
      'ì‹ ê³  ì‹œì : ì‚¬ì „ ì‹ ê³  (ì†¡ê¸ˆ ì „ ì™„ë£Œ í•„ìˆ˜)',
    ],
  },

  // A-5: í•´ì™¸ì§€ì‚¬ ì„¤ì¹˜
  'a-branch': {
    id: 'a-branch',
    name: 'í•´ì™¸ì§€ì‚¬ ì„¤ì¹˜ ì‹ ê³ ',
    description:
      'ê°œì¸ ë˜ëŠ” ì¼ë°˜ ë²•ì¸ì´ ë²•ì¸ ì„¤ë¦½ì´ ì•„ë‹Œ ì§€ì ì´ë‚˜ ì‚¬ë¬´ì†Œë¥¼ í•´ì™¸ì— ì„¤ì¹˜í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.',
    agency: agencies['forex-bank'],
    requiredForms: [forms['form-branch']],
    requiredDocuments: [
      'í•´ì™¸ì§€ì‚¬ ì„¤ì¹˜ ì‹ ê³ ì„œ (ë³„ì§€ ì„œì‹)',
      'í˜„ì§€ ì‚¬ì—…ê³„íšì„œ',
      'ë‚©ì„¸ì¦ëª…ì„œ (êµ­ì„¸, ì§€ë°©ì„¸)',
      'ì‹ ìš©ì •ë³´ì¡°íšŒë™ì˜ì„œ',
      'ì£¼ë¯¼ë“±ë¡ë“±ë³¸ (ê°œì¸) ë˜ëŠ” ì‚¬ì—…ìë“±ë¡ì¦ëª… (ë²•ì¸)',
    ],
    legalBasis: 'ì™¸êµ­í™˜ê±°ë˜ê·œì • ì œ9ì¥',
    notes: [
      'ì‹ ê³  ì‹œì : ì‚¬ì „ ì‹ ê³  (ì†¡ê¸ˆ ì „ ì™„ë£Œ í•„ìˆ˜)',
      'ì„¤ì¹˜ë¹„, ì˜ì—…ê¸°ê¸ˆ ì†¡ê¸ˆ ëª©ì ',
    ],
  },

  // ========================================
  // ë£¨íŠ¸ B: ê¸ˆìœµíšŒì‚¬ ê²°ê³¼ë“¤
  // ========================================

  // B-1: ê¸ˆìœµíšŒì‚¬ - ì¼ë°˜ í•´ì™¸ë²•ì¸ - ê¸ˆìœµ/ë³´í—˜ì—…
  'b-direct-financial': {
    id: 'b-direct-financial',
    name: 'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³  (ê¸ˆìœµìœ„ì›íšŒ)',
    description:
      'ê¸ˆìœµíšŒì‚¬ê°€ í•´ì™¸ì— ê¸ˆìœµ/ë³´í—˜ì—… ë²•ì¸ì„ ì„¤ë¦½í•˜ê±°ë‚˜ ì§€ë¶„ì„ ì·¨ë“í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ê¸ˆìœµê°ë…ì›ì„ ê²½ìœ í•˜ì—¬ ê¸ˆìœµìœ„ì›íšŒì— ì‹ ê³ í•˜ë©°, ìˆ˜ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
    agency: agencies['fsc'],
    requiredForms: [forms['form-b-financial']],
    requiredDocuments: [
      'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³ ì„œ',
      'ì´ì‚¬íšŒ ì˜ì‚¬ë¡',
      'ì‚¬ì—…ê³„íšì„œ',
      'ì¬ë¬´ê±´ì „ì„± ì…ì¦ì„œë¥˜ (BIS ë¹„ìœ¨ ë“±)',
      'ì •ê´€',
    ],
    legalBasis: 'ê¸ˆìœµíšŒì‚¬ì˜ í•´ì™¸ì§„ì¶œì— ê´€í•œ ê·œì •',
    notes: [
      'ì‹ ê³  ì‹œì : ì‚¬ì „ ì‹ ê³  (ìˆ˜ë¦¬ í•„ìš”)',
      'ê¸ˆìœµê°ë…ì› ê²½ìœ  â†’ ê¸ˆìœµìœ„ì›íšŒ ìµœì¢… ìˆ˜ë¦¬',
    ],
  },

  // B-2: ê¸ˆìœµíšŒì‚¬ - ì¼ë°˜ í•´ì™¸ë²•ì¸ - ë¹„ê¸ˆìœµì—…
  'b-direct-non-financial': {
    id: 'b-direct-non-financial',
    name: 'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³  (ê¸ˆìœµê°ë…ì›)',
    description:
      'ê¸ˆìœµíšŒì‚¬ê°€ í•´ì™¸ì— ë¹„ê¸ˆìœµì—…(ë¶€ë™ì‚°, IT ë“±) ë²•ì¸ì„ ì„¤ë¦½í•˜ê±°ë‚˜ ì§€ë¶„ì„ ì·¨ë“í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ê¸ˆìœµê°ë…ì›ì— ì‹ ê³ í•©ë‹ˆë‹¤.',
    agency: agencies['fss'],
    requiredForms: [forms['form-b-non-financial']],
    requiredDocuments: [
      'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³ ì„œ',
      'ì´ì‚¬íšŒ ì˜ì‚¬ë¡',
      'ì‚¬ì—…ê³„íšì„œ',
      'ì¬ë¬´ê±´ì „ì„± ì…ì¦ì„œë¥˜ (BIS ë¹„ìœ¨ ë“±)',
      'ì •ê´€',
    ],
    legalBasis: 'ê¸ˆìœµíšŒì‚¬ì˜ í•´ì™¸ì§„ì¶œì— ê´€í•œ ê·œì •',
    notes: [
      'ì‹ ê³  ì‹œì : ì‚¬ì „ ì‹ ê³ ',
      'ê¸ˆìœµì—… íˆ¬ì ëŒ€ë¹„ ì‹¬ì‚¬ ìš”ê±´ì´ ì™„í™”ë¨',
    ],
  },

  // B-3: ê¸ˆìœµíšŒì‚¬ - ì—­ì™¸ê¸ˆìœµíšŒì‚¬ (í•´ì™¸ì§ì ‘íˆ¬ìë¡œ ì²˜ë¦¬)
  'b-direct-offshore': {
    id: 'b-direct-offshore',
    name: 'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³  - ì—­ì™¸ê¸ˆìœµíšŒì‚¬ (ê¸ˆìœµê°ë…ì›)',
    description:
      'ê¸ˆìœµíšŒì‚¬ê°€ ì—­ì™¸ê¸ˆìœµíšŒì‚¬(í•´ì™¸ í€ë“œ ë“±)ì— íˆ¬ìí•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. í•´ì™¸ì§ì ‘íˆ¬ìë¡œ ê¸ˆìœµê°ë…ì›ì— ì‹ ê³ í•©ë‹ˆë‹¤.',
    agency: agencies['fss'],
    requiredForms: [forms['form-b-offshore']],
    requiredDocuments: [
      'í•´ì™¸ì§ì ‘íˆ¬ì ì‹ ê³ ì„œ (ì—­ì™¸ê¸ˆìœµíšŒì‚¬)',
      'í€ë“œ ê°œìš”ì„œ (PPM)',
      'ì´ì‚¬íšŒ ì˜ì‚¬ë¡',
      'íˆ¬ìê¸ˆ ì†¡ê¸ˆ ì¦ë¹™',
    ],
    legalBasis: 'ê¸ˆìœµíšŒì‚¬ì˜ í•´ì™¸ì§„ì¶œì— ê´€í•œ ê·œì •',
    notes: [
      'ì‹ ê³  ì‹œì : ì‚¬ì „ ì‹ ê³ ',
      'ì—­ì™¸ê¸ˆìœµíšŒì‚¬ íˆ¬ìë„ í•´ì™¸ì§ì ‘íˆ¬ìë¡œ ë¶„ë¥˜ë¨',
    ],
  },

  // B-4: ê¸ˆìœµíšŒì‚¬ - í•´ì™¸ì§€ì‚¬ ì„¤ì¹˜
  'b-branch': {
    id: 'b-branch',
    name: 'í•´ì™¸ì§€ì‚¬ ì„¤ì¹˜ ë³´ê³  (ê¸ˆìœµê°ë…ì›)',
    description:
      'ê¸ˆìœµíšŒì‚¬ê°€ í•´ì™¸ì— ì§€ì  ë˜ëŠ” ì‚¬ë¬´ì†Œë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ì‚¬í›„ ë³´ê³  í˜•íƒœë¡œ ì§„í–‰ë©ë‹ˆë‹¤.',
    agency: agencies['fss'],
    requiredForms: [forms['form-b-branch']],
    requiredDocuments: [
      'í•´ì™¸ì§€ì‚¬ ì„¤ì¹˜ ë³´ê³ ì„œ',
      'í˜„ì§€ ì¸ê°€ì„œë¥˜',
      'ì˜ì—…ê¸°ê¸ˆ ì†¡ê¸ˆ ì¦ë¹™',
    ],
    legalBasis: 'ê¸ˆìœµíšŒì‚¬ì˜ í•´ì™¸ì§„ì¶œì— ê´€í•œ ê·œì •',
    notes: [
      'ë³´ê³  ì‹œì : ì‚¬í›„ ë³´ê³  (ì„¤ì¹˜ í›„ 1ê°œì›” ì´ë‚´)',
    ],
  },

  // ========================================
  // ë£¨íŠ¸ C: ê¸°ê´€íˆ¬ìê°€ ê²°ê³¼
  // ========================================
  'c-securities-exempt': {
    id: 'c-securities-exempt',
    name: 'ì‹ ê³  ì˜ˆì™¸ (ê¸°ê´€íˆ¬ìê°€ ê³ ìœ ì—…ë¬´)',
    description:
      'ì€í–‰, ì¦ê¶Œì‚¬ ë“± ê¸°ê´€íˆ¬ìê°€ê°€ ê³ ìœ  ì—…ë¬´ë¡œ í•´ì™¸ì¦ê¶Œì— íˆ¬ìí•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤. ë³„ë„ ì‹ ê³  ì—†ì´ ì‚¬í›„ í†µë³´ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.',
    agency: agencies['forex-bank'],
    requiredForms: [],
    requiredDocuments: [
      'ì‚¬í›„ í†µë³´ ì„œë¥˜ (ë‚´ë¶€ ê¸°ë¡ìš©)',
    ],
    legalBasis: 'ì™¸êµ­í™˜ê±°ë˜ê·œì • ì œ7ì¥',
    notes: [
      'ë³„ë„ ì‚¬ì „ ì‹ ê³  ë¶ˆìš”',
      'ì‚¬í›„ í†µë³´ë¡œ ê°ˆìŒ',
      'ê³ ìœ  ì—…ë¬´ ì™¸ì˜ íˆ¬ìëŠ” ì¼ë°˜ ê¸ˆìœµíšŒì‚¬ ì ˆì°¨ ì ìš©',
    ],
  },

  // ========================================
  // ê³µí†µ ì‚¬í›„ê´€ë¦¬ ì•ˆë‚´
  // ========================================
  'common-post-management': {
    id: 'common-post-management',
    name: 'ì‚¬í›„ê´€ë¦¬ ì˜ë¬´ ì•ˆë‚´',
    description:
      'ì‹ ê³ ê°€ ëì´ ì•„ë‹™ë‹ˆë‹¤. íˆ¬ì ì´í›„ì—ë„ ì§€ì†ì ì¸ ë³´ê³  ë° ê´€ë¦¬ ì˜ë¬´ê°€ ìˆìŠµë‹ˆë‹¤.',
    agency: agencies['forex-bank'],
    requiredForms: [],
    requiredDocuments: [],
    legalBasis: 'ì™¸êµ­í™˜ê±°ë˜ê·œì •, ê¸ˆìœµíšŒì‚¬ì˜ í•´ì™¸ì§„ì¶œì— ê´€í•œ ê·œì •',
    notes: [
      'ğŸ“Œ ì†¡ê¸ˆ ë³´ê³ : íˆ¬ìê¸ˆì„ ë³´ë‚¸ í›„ ì¦‰ì‹œ ë˜ëŠ” 1ê°œì›” ë‚´ ì€í–‰/ê¸ˆê°ì›ì— ë³´ê³ ',
      'ğŸ“Œ ì‚¬ì—…ì‹¤ì  ë³´ê³ : ë§¤ë…„ íšŒê³„ì—°ë„ ì¢…ë£Œ í›„ 5ê°œì›” ì´ë‚´ì— ê²°ì‚° ì„œë¥˜ ì œì¶œ',
      'ğŸ“Œ ë³€ê²½/ì²­ì‚° ì‹ ê³ : í˜„ì§€ë²•ì¸ëª… ë³€ê²½, ì§€ë¶„ìœ¨ ë³€ë™, ì‚¬ì—… ì¢…ê²° ì‹œ ë°˜ë“œì‹œ ë³€ê²½/ì²­ì‚° ì‹ ê³  í•„ìš”',
    ],
  },
};

// ê²°ê³¼ ë§¤í•‘ ê·œì¹™ - íƒœê·¸ ì¡°í•©ì— ë”°ë¼ ì–´ë–¤ ì‹ ê³ ê°€ í•„ìš”í•œì§€ ê²°ì •
export const resultRules: ResultRule[] = [
  // ========================================
  // ë£¨íŠ¸ A: ê°œì¸/ì¼ë°˜ë²•ì¸
  // ========================================

  // í•´ì™¸ì§ì ‘íˆ¬ì - ì¼ë°˜ í•´ì™¸ë²•ì¸
  {
    id: 'rule-a-direct-general',
    requiredTags: ['route:a', 'purpose:direct-investment', 'target:general'],
    reportTypes: ['a-direct-general', 'common-post-management'],
  },
  // í•´ì™¸ì§ì ‘íˆ¬ì - ì—­ì™¸ê¸ˆìœµíšŒì‚¬
  {
    id: 'rule-a-direct-offshore',
    requiredTags: ['route:a', 'purpose:direct-investment', 'target:offshore'],
    reportTypes: ['a-direct-offshore', 'common-post-management'],
  },
  // í•´ì™¸ì¦ê¶Œì·¨ë“ - ì¼ë°˜ í•´ì™¸ë²•ì¸
  {
    id: 'rule-a-securities-general',
    requiredTags: ['route:a', 'purpose:securities', 'target:general'],
    reportTypes: ['a-securities-general', 'common-post-management'],
  },
  // í•´ì™¸ì¦ê¶Œì·¨ë“ - ì—­ì™¸ê¸ˆìœµíšŒì‚¬ (í•µì‹¬! ì œ7ì¥ ì œ4ì ˆ ì ìš©)
  {
    id: 'rule-a-securities-offshore',
    requiredTags: ['route:a', 'purpose:securities', 'target:offshore'],
    reportTypes: ['a-securities-offshore', 'common-post-management'],
  },
  // í•´ì™¸ì§€ì‚¬ ì„¤ì¹˜
  {
    id: 'rule-a-branch',
    requiredTags: ['route:a', 'purpose:branch'],
    reportTypes: ['a-branch', 'common-post-management'],
  },

  // ========================================
  // ë£¨íŠ¸ B: ê¸ˆìœµíšŒì‚¬
  // ========================================

  // í•´ì™¸ì§ì ‘íˆ¬ì - ì¼ë°˜ í•´ì™¸ë²•ì¸ - ê¸ˆìœµ/ë³´í—˜ì—…
  {
    id: 'rule-b-direct-financial',
    requiredTags: ['route:b', 'type:direct', 'target:general', 'industry:financial'],
    reportTypes: ['b-direct-financial', 'common-post-management'],
  },
  // í•´ì™¸ì§ì ‘íˆ¬ì - ì¼ë°˜ í•´ì™¸ë²•ì¸ - ë¹„ê¸ˆìœµì—…
  {
    id: 'rule-b-direct-non-financial',
    requiredTags: ['route:b', 'type:direct', 'target:general', 'industry:non-financial'],
    reportTypes: ['b-direct-non-financial', 'common-post-management'],
  },
  // í•´ì™¸ì§ì ‘íˆ¬ì - ì—­ì™¸ê¸ˆìœµíšŒì‚¬ (ê¸ˆê°ì› ì‹ ê³ )
  {
    id: 'rule-b-direct-offshore',
    requiredTags: ['route:b', 'type:direct', 'target:offshore'],
    reportTypes: ['b-direct-offshore', 'common-post-management'],
  },
  // í•´ì™¸ì§€ì‚¬ ì„¤ì¹˜
  {
    id: 'rule-b-branch',
    requiredTags: ['route:b', 'type:branch'],
    reportTypes: ['b-branch', 'common-post-management'],
  },

  // ========================================
  // ë£¨íŠ¸ C: ê¸°ê´€íˆ¬ìê°€
  // ========================================
  {
    id: 'rule-c-securities',
    requiredTags: ['route:c', 'type:securities'],
    reportTypes: ['c-securities-exempt'],
  },
];

// íƒœê·¸ ê¸°ë°˜ìœ¼ë¡œ ì ìš©ë˜ëŠ” ì‹ ê³  ìœ í˜• ì°¾ê¸°
export const findApplicableReportTypes = (tags: string[]): ReportType[] => {
  const applicableTypeIds = new Set<string>();

  for (const rule of resultRules) {
    // í•„ìˆ˜ íƒœê·¸ê°€ ëª¨ë‘ ìˆëŠ”ì§€ í™•ì¸
    const hasAllRequired = rule.requiredTags.every((tag) => tags.includes(tag));

    // ì œì™¸ íƒœê·¸ê°€ ì—†ëŠ”ì§€ í™•ì¸
    const hasNoExcluded = !rule.excludeTags?.some((tag) => tags.includes(tag));

    if (hasAllRequired && hasNoExcluded) {
      rule.reportTypes.forEach((id) => applicableTypeIds.add(id));
    }
  }

  return Array.from(applicableTypeIds)
    .map((id) => reportTypes[id])
    .filter(Boolean);
};
